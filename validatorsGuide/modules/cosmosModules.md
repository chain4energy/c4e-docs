<!--
παραγγελία: 5
-->


# Ενότητες Cosmos

* Authz - Διευκολύνει τις εξουσιοδοτήσεις που χορηγούνται σε έναν λογαριασμό για την εκτέλεση ενεργειών για λογαριασμό άλλου λογαριασμού.

   Η ενότητα authz διευκολύνει τη χορήγηση εξουσιοδοτήσεων για την εκτέλεση ενεργειών, όπως η δαπάνη κουπονιών, για λογαριασμό ενός λογαριασμού σε άλλους λογαριασμούς.


Μια εξουσιοδότηση είναι ένα δικαίωμα για την εκτέλεση μιας ενέργειας από τον δικαιούχο για λογαριασμό του χορηγούντος την εξουσιοδότηση, π.χ. για να στείλετε διακριτικά σε έναν λογαριασμό από τον παραχωρητή ή για να εκχωρήσετε διακριτικά σε έναν επικυρωτή από τον παραχωρητή. Υπάρχουν 3 κύριοι ενσωματωμένοι τύποι εξουσιοδότησης:

1. Αποστολή Εξουσιοδότησης

Το SendAuthorization υλοποιεί μια εξουσιοδότηση προς τον δικαιούχο να εκτελέσει, εκ μέρους του χορηγού, μια βασική ενέργεια αποστολής που ορίζεται στη μονάδα τράπεζας. Χρειάζεται ένα SpendLimit που είναι μεγαλύτερο από 0 για να καθοριστεί το μέγιστο ποσό των κουπονιών με τα οποία μπορεί να ξοδέψει ο δικαιούχος. Το SpendLimit παρακολουθεί πόσα επιτρεπόμενα διακριτικά έχουν απομείνει στην εξουσιοδότηση και ενημερώνεται καθώς δαπανώνται τα διακριτικά μέχρι να διαγραφεί το SendAuthorization όταν το SpendLimitreaches 0. Η αποστολή ποσού μεγαλύτερου από το SpendLimit δεν επιτρέπεται

2. Εξουσιοδότηση συμμετοχής

Το StakeAuthorization υλοποιεί μια εξουσιοδότηση προς τον δικαιούχο να εκτελεί, εκ μέρους του χορηγού, να εκχωρήσει, να αποδεσμεύσει (μη ανάθεση) ή να αναθέσει ενέργειες που ορίζονται στην ενότητα πονταρίσματος. Κάθε μία από τις παραπάνω ενέργειες πρέπει να εξουσιοδοτηθεί ξεχωριστά, με την οποία πρέπει να καθοριστεί είτε μια Λίστα Επιτρεπόμενης Λίστας είτε μια Λίστα Απαγόρευσης, ώστε να περιοριστεί με ποιους επικυρωτές να εκτελούν ή όχι μια ενέργεια πονταρίσματος. Προαιρετικά, τα MaxTokens μπορούν επίσης να καθοριστούν στην εξουσιοδότηση που παρακολουθεί ένα όριο στην ποσότητα των διακριτικών προς ανάθεση/μη ανάθεση/εκ νέου ανάθεση. Εάν αφεθεί απροσδιόριστο, το ποσό είναι απεριόριστο. Παρόμοια με το SpendLimit στο SendAuthorization, το MaxTokens ενημερώνεται μετά από κάθε έγκυρη εξουσιοδοτημένη ενέργεια πονταρίσματος. Δεν επιτρέπεται μια εξουσιοδοτημένη ενέργεια πονταρίσματος που χρησιμοποιεί διακριτικά πέρα από τα MaxTokens

3. Γενική Εξουσιοδότηση

Η GenericAuthorization εφαρμόζει μια εξουσιοδότηση στον δικαιούχο να εκτελέσει, για λογαριασμό του χορηγού, μια γενική ενέργεια. Με άλλα λόγια, η GenericAuthorization διευκολύνει μια επιχορήγηση αυθαίρετης ενέργειας, όπου ένα MsgTypeURL πρέπει να καθοριστεί ώστε να αντιστοιχεί σε μια ενέργεια που ορίζεται στις ενότητες. Μια Γενική Εξουσιοδότηση είναι προς το παρόν απεριόριστη πέρα από το MsgTypeURL. Για παράδειγμα, όταν παραχωρείτε σε κάποιον να στείλει διακριτικά, το SpendLimit στο SendAuthorization δεν θα επιβληθεί. Επομένως, μια Εξουσιοδότηση Send χωρίς όριο δαπανών μπορεί στην πραγματικότητα να εφαρμοστεί ως GenericAuthorization με το MsgTypeURL να έχει οριστεί σε /cosmos.bank.v1beta1.MsgSend. Τα παρακάτω είναι μερικά κοινά MsgTypeURL:

* Αποστολή: /cosmos.bank.v1beta1.MsgΑποστολή
* Εκπρόσωπος: /cosmos.staking.v1beta1.MsgDelegate
* Unbond/Undelegate: /cosmos.staking.v1beta1.MsgUndelegate
* Redelegate: /cosmos.staking.v1beta1.MsgBeginRedelegate
* Ανάληψη ανταμοιβής αντιπροσώπου: /cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward
* Τράπεζα - Λειτουργίες μεταφοράς διακριτικών και υποστήριξη ερωτημάτων για τη συνολική προσφορά όλων των περιουσιακών στοιχείων.

   Η μονάδα τράπεζας διατηρεί την κατάσταση δύο πρωταρχικών αντικειμένων:


Υπόλοιπα λογαριασμών ανά διεύθυνση.


Συνολική προμήθεια μαρκών της αλυσίδας


Η μονάδα τράπεζας παρακολουθεί και παρέχει υποστήριξη ερωτημάτων για τη συνολική προσφορά όλων των περιουσιακών στοιχείων που χρησιμοποιούνται στην εφαρμογή. Υποστηρίζει επίσης λειτουργίες μεταφοράς διακριτικών. Συγκεκριμένα, η συνολική προσφορά ενημερώνεται κάθε φορά που ένα διακριτικό είναι:


Κοπή, π.χ. Token που δημιουργήθηκε από τη μονάδα νομισματοκοπείου. ή


Καμένο, π.χ. Το διακριτικό παραμορφώθηκε από τη μονάδα κοπής

* Διανομή - Κατανομή τελών και ποντάρισμα ανταμοιβών στους επικυρωτές και τους εκχωρητές.

   Η ενότητα διανομής είναι υπεύθυνη για τη διανομή των ανταμοιβών στους επικυρωτές και στους αντιπροσώπους.


## Παράμετροι δικτύου


Παρακάτω είναι όλες οι παράμετροι δικτύου για τη μονάδα διανομής:


κοινοτικός_φόρος - Ο συντελεστής κοινοτικού φόρου.


base_proposer_reward - Βασικό μπόνους σε χρεώσεις συναλλαγής που συλλέγονται σε έγκυρο μπλοκ.


bonus_proposer_reward - Μέγιστο μπόνους για χρεώσεις συναλλαγής που συλλέγονται σε έγκυρο μπλοκ.


draw_addr_enabled - Εάν οι αντιπρόσωποι μπορούν να ορίσουν διαφορετική διεύθυνση για να αποσύρουν τις ανταμοιβές τους.


## Ανταμοιβές


Υπάρχουν δύο βασικοί τύποι ανταμοιβών


Αποκλεισμός ανταμοιβών, που διέπονται από τη μονάδα νομισματοκοπείου. και


Μπόνους χρεώσεων συναλλαγής.


## Αποκλεισμός ανταμοιβής


Οι ανταμοιβές μπλοκ κατανέμονται αναλογικά σε όλους τους επικυρωτές σε σχέση με την εκλογική τους δύναμη. Αυτό σημαίνει ότι παρόλο που κάθε επικυρωτής κερδίζει CRO με κάθε ανταμοιβή, όλοι οι επικυρωτές θα διατηρήσουν το ίδιο βάρος με την πάροδο του χρόνου.


Για τον χειριστή επικύρωσης, οι πληροφορίες διανομής ενημερώνονται εάν:


το ποσό της ανάθεσης σε έναν επικυρωτή ενημερώνεται (ανάθεση, αποδέσμευση, περικοπή κ.λπ.)


ένας επικυρωτής προτείνει με επιτυχία ένα μπλοκ και λαμβάνει την ανταμοιβή.


οποιοσδήποτε αντιπρόσωπος αποσύρεται από έναν επικυρωτή, ή


ο επικυρωτής αποσύρει την προμήθεια του.


Για τους εκπροσώπους, αφού έχουν αναθέσει σε έναν επικυρωτή, θα δικαιούνται ένα μέρος της συνολικής ανταμοιβής που λαμβάνεται από τους επικυρωτές. Η ανταμοιβή είναι ανάλογη με το ποσό που τους έχει ανατεθεί και την προμήθεια που χρεώνεται από τον χειριστή επικύρωσης (εάν υπάρχει).


# 
# Μπόνους χρεώσεων συναλλαγής


Όταν επιλέγεται ένας επικυρωτής για να προτείνει το επόμενο μπλοκ, πρέπει να περιλαμβάνει τουλάχιστον 66% προδεσμεύσεις του προηγούμενου μπλοκ. Για να δοθούν κίνητρα στους επικυρωτές να συμπεριλάβουν περισσότερες από 66% προδεσμεύσεις, η ενότητα παρέχει μια ανταμοιβή μπόνους (τμήμα της χρέωσης συναλλαγής στο μπλοκ) στον προτείνοντα.


Αυτή η ανταμοιβή μπόνους εξαρτάται γραμμικά από τις προδεσμεύσεις από τους άλλους επικυρωτές. Ξεκινώντας από το 66% των προδεσμεύσεων, το βασικό μπόνους θα είναι base_proposer_reward και θα αυξηθεί γραμμικά σε bonus_proposer_reward όταν ο επικυρωτής περιλαμβάνει το 100% των προδεσμεύσεων.


Αυτός ο μηχανισμός στοχεύει στο να δώσει κίνητρα για μη κενές προτάσεις μπλοκ, στην καλύτερη δικτύωση μεταξύ των επικυρωτών καθώς και στον μετριασμό της λογοκρισίας. Για περαιτέρω παράδειγμα, ανατρέξτε σε αυτόν τον σύνδεσμο.


## Κοινοτικός φόρος


Ο κοινοτικός φόρος είναι ο φορολογικός συντελεστής της ανταμοιβής που λαμβάνεται από τον επικυρωτή. Συγκεκριμένα, μέρος της ανταμοιβής θα φορολογηθεί και θα αποσταλεί στο κοινοτικό pool. Τα κεφάλαια στο κοινοτικό pool μπορούν να αποσυρθούν υποβάλλοντας μια πρόταση δαπανών κοινοτικής συγκέντρωσης με τη μονάδα gov.


Ακόμα κι αν ο κοινοτικός φόρος έχει οριστεί ως μηδέν, το υπόλοιπο της ομάδας κοινότητας μπορεί να είναι μη μηδενικό. Για παράδειγμα, το περικομμένο υπόλοιπο σε ορισμένες περιπτώσεις λογιστικών αιχμής θα αποσταλεί και στο κοινοτικό pool. Εκτός αυτού, οι χρήστες μπορούν να χρηματοδοτήσουν εθελοντικά την κοινοτική ομάδα και θα μπορούσαν να διατεθούν κεφάλαια στην κοινοτική ομάδα στη γένεση

* Διακυβέρνηση - Προτάσεις και ψηφοφορία στην αλυσίδα.

   Η ενότητα gov επιτρέπει τη διακυβέρνηση εντός της αλυσίδας που επιτρέπει στους κατόχους διακριτικών της αλυσίδας C4E να συμμετέχουν στις διαδικασίες λήψης αποφάσεων. Για παράδειγμα, οι χρήστες μπορούν:

1. Σχηματίστε μια ιδέα και αναζητήστε ανατροφοδότηση. (σε ανάπτυξη)
2. Δημιουργήστε την πρόταση και προσαρμόστε ανάλογα με την ανατροφοδότηση όπως απαιτείται (σε εξέλιξη) .
3. Υποβάλετε μια πρόταση μαζί με μια αρχική κατάθεση.
4. Καταθέστε μάρκες και χρηματοδοτήστε μια ενεργή πρόταση.
5. Ψηφίστε για μια ενεργή πρόταση.

    Ακολουθούν όλες οι παράμετροι δικτύου για τη μονάδα gov:


depozit_params - Παράμετροι που σχετίζονται με την κατάθεση:


min_deposit: Ελάχιστη κατάθεση για μια πρόταση για είσοδο στην περίοδο ψηφοφορίας. και


max_deposit_period: Μέγιστη περίοδος για τους κατόχους C4E για κατάθεση σε μια πρόταση.


voting_params - Παράμετροι που σχετίζονται με την ψηφοφορία


voting_period: Η διάρκεια της περιόδου ψηφοφορίας.


tally_params - Παράμετροι που σχετίζονται με το Tally


απαρτία: Το ελάχιστο ποσοστό της δύναμης ψήφου που πρέπει να δοθεί σε μια πρόταση για να είναι έγκυρο το αποτέλεσμα.


όριο: Ελάχιστο ποσοστό ψήφων ναι (εξαιρουμένων των ψήφων αποχής) για να γίνει αποδεκτή η πρόταση. και


βέτο: Ελάχιστη αναλογία ψήφων βέτο προς το σύνολο των ψήφων για την πρόταση που θα ασκηθεί βέτο


## Η Διαδικασία Διακυβέρνησης


Φάση 0 - Υποβάλετε μια πρόταση μαζί με μια αρχική κατάθεση:


Οι χρήστες μπορούν να υποβάλουν πρόταση με αρχική κατάθεση. Στη συνέχεια, η πρόταση θα γίνει "ενεργή" και θα εισέλθει στην περίοδο κατάθεσης.


Φάση 1 - Περίοδος κατάθεσης


Κατά τη διάρκεια της περιόδου κατάθεσης, οι χρήστες μπορούν να καταθέσουν και να υποστηρίξουν μια ενεργή πρόταση. Μόλις η κατάθεση της πρότασης φτάσει στο min_deposit, θα μπει στην περίοδο ψηφοφορίας. Διαφορετικά, εάν η πρόταση δεν χρηματοδοτηθεί με επιτυχία εντός max_deposit_period, θα καταστεί ανενεργή και θα επιστραφεί ολόκληρη η κατάθεση.


Φάση 2 - Περίοδος ψηφοφορίας


Κατά τη διάρκεια της περιόδου ψηφοφορίας, θα μπορούν να συμμετέχουν στην ψηφοφορία πονταρισμένα (δεσμευμένα) μάρκες. Οι χρήστες μπορούν να επιλέξουν μία από τις ακόλουθες επιλογές: "ναι", "όχι", "no_with_veto" και "αποχή"


Αφού παρέλθει η περίοδος ψηφοφορίας, υπάρχουν πολλά σενάρια όπου μια πρόταση θα θεωρηθεί ως "Απορρίφθηκε", για παράδειγμα, εάν


Κανείς δεν ψηφίζει (όλοι «απέχουν»).

Οι ψήφοι δεν έφτασαν σε απαρτία.


Περισσότερο από το βέτο των ψηφοφόρων που ψηφίζουν υπέρ του "no_with_veto".


Πάνω από το όριο των μη απεχόντων ψηφίζουν «όχι».


Σε αντίθετη περίπτωση, η πρόταση θα γίνει αποδεκτή και οι αλλαγές θα εφαρμοστούν σύμφωνα με την πρόταση.

* Slashing - Μηχανισμοί τιμωρίας Validator.

   Οι επικυρωτές είναι υπεύθυνοι για την υπογραφή ή την πρόταση μπλοκ σε κάθε γύρο συναίνεσης. Θα πρέπει να επιβληθεί ποινή για την κακή συμπεριφορά των επικυρωτών για να ενισχυθεί αυτό.


Συγκεκριμένα, περικοπή λειτουργικότητας που στοχεύει στην αποτροπή κινήτρων για παρατηρήσιμες από το δίκτυο ενέργειες, όπως ελαττωματικές επικυρώσεις. Οι ποινές μπορεί να περιλαμβάνουν απώλεια κάποιου ποσού του μεριδίου τους, απώλεια της ικανότητάς τους να εκτελούν τη λειτουργικότητα του δικτύου για ένα χρονικό διάστημα, να συλλέγουν ανταμοιβές κ.λπ.


Παρακάτω είναι όλες οι παράμετροι δικτύου που χρησιμοποιούνται για τη διαμόρφωση της συμπεριφοράς των τιμωριών επικυρωτή. Λεπτομέρειες όλων αυτών των παραμέτρων και η επίδρασή τους στη συμπεριφορά των τιμωριών επικυρωτή συζητούνται αργότερα σε αυτό το έγγραφο:

1. signed_blocks_window: Αριθμός μπλοκ για τα οποία υπολογίζεται η ζωντανότητα για παρακολούθηση χρόνου λειτουργίας.
2. min_signed_per_window: Μέγιστο ποσοστό μπλοκ με ελαττωματικές/χαμένες επικυρώσεις που επιτρέπεται για έναν λογαριασμό στο τελευταίο. Το signed_blocks_window μπλοκάρει πριν απενεργοποιηθεί.
3. downtime_jail_duration: Διάρκεια φυλάκισης.
4. slash_fraction_double_sign: Ποσοστό κεφαλαίων που περικόπτονται όταν ο επικυρωτής κάνει ένα βυζαντινό σφάλμα. και
5. slash_fraction_downtime: Ποσοστό κεφαλαίων που περικόπτονται όταν ένα εργαλείο επικύρωσης δεν είναι ενεργό. Οι τιμωρίες για έναν επικυρωτή ενεργοποιούνται όταν είτε κάνουν βυζαντινό σφάλμα είτε γίνονται μη ζωντανοί:



1. Σφάλματα ζωντάνιας (Χαμηλή διαθεσιμότητα)

    Ένας επικυρωτής λέγεται ότι δεν είναι ενεργός όταν αποτυγχάνει να υπογράψει με επιτυχία τουλάχιστον min_signed_per_window block (σε ποσοστό) στα τελευταία blocks signed_blocks_window. Τα signed_blocks_window και min_signed_per_window είναι παράμετροι δικτύου και μπορούν να διαμορφωθούν κατά τη γένεση και μπορούν να ενημερωθούν κατά τη διάρκεια του χρόνου εκτέλεσης από τη μονάδα διακυβέρνησης.

* Staking - Επίπεδο απόδειξης στοιχήματος για δημόσιες αλυσίδες μπλοκ.
* Προμήθεια - Ανάκτηση ολικής και υγρής παροχής
2. Βυζαντινά Ρήγματα

    Ένας επικυρωτής λέγεται ότι κάνει βυζαντινό σφάλμα όταν υπογράφει αντικρουόμενα μηνύματα/μπλοκ στο ίδιο ύψος και γύρο. Το Tendermint διαθέτει μηχανισμούς για τη δημοσίευση αποδεικτικών στοιχείων επικυρωτών που υπέγραψαν αντικρουόμενες ψήφους, ώστε να μπορούν να τιμωρηθούν από τη μονάδα κοπής. Για παράδειγμα:

* Επικυρωτής που ψηφίζει για δύο διαφορετικά μπλοκ σε έναν μόνο γύρο ("Επικυρωτής Equivocation"/ "Διπλή υπογραφή").
*
* Ο επικυρωτής που υπογράφει δεσμεύει μηνύματα για αυθαίρετη κατάσταση εφαρμογής ( "Lunatic validator").

   Παρατήρηση: Μπορούν επίσης να εντοπιστούν και να καταγραφούν τα στοιχεία ενός συνόλου επικυρωτών που επιχειρούν να παραπλανήσουν έναν ελαφρύ πελάτη. Ωστόσο, ακόμη και η επίθεση της Αμνησίας μπορεί να ανιχνευθεί, η τιμωρία δεν μπορεί να εφαρμοστεί σε αυτό το στάδιο, καθώς δεν μπορούμε να συμπεράνουμε τους κακόβουλους επικυρωτές.

3. Αδράνεια Slashing

    Είναι σημαντικό οι επικυρωτές να διατηρούν εξαιρετική διαθεσιμότητα και συνδεσιμότητα δικτύου για την εκτέλεση των καθηκόντων τους. Θα πρέπει να επιβληθεί ποινή για την κακή συμπεριφορά των επικυρωτών για να ενισχυθεί αυτό.


Όταν ένας επικυρωτής αποτυγχάνει να υπογράψει με επιτυχία μπλοκ missed_block_threshold στα τελευταία block_signing_window blocks, φυλάσσεται αμέσως και τιμωρείται αφαιρώντας χρήματα από το δεσμευμένο και μη δεσμευμένο ποσό και αφαιρώντας τα από το ενεργό σύνολο εργαλείου επικύρωσης. Τα χρήματα που θα αφαιρεθούν υπολογίζονται με βάση το slash_fraction_downtime. Ανατρέξτε σε αυτόν τον σύνδεσμο σχετικά με τη λογική της παρακολούθησης ζωντάνιας.

4. Φυλακισμός

    Ένας επικυρωτής φυλακίζεται όταν κάνει ζωντάνια ή βυζαντινό σφάλμα. Όταν ένας επικυρωτής τεθεί σε φυλάκιση, δεν θα θεωρείται πλέον ως ενεργός επικυρωτής έως ότου αποδεσμευτεί. Επιπλέον, δεν μπορεί να αποδεσμευτεί πριν από το downtime_jail_duration. Αυτό το downtime_jail_duration είναι μια παράμετρος δικτύου που μπορεί να διαμορφωθεί κατά τη δημιουργία.

5. Κατάργηση της φυλάκισης

    Όταν ένας δεσμευμένος επικυρωτής επιθυμεί να συνεχίσει τις κανονικές λειτουργίες (αφού περάσει το downtime_jail_duration), μπορεί να δημιουργήσει μια συναλλαγή unjail που τον επισημαίνει ως un-jailed. Στη συνέχεια, το Validator θα επανενταχθεί στο σετ επικύρωσης μόλις ολοκληρωθεί με επιτυχία η απεγκατάσταση του.

6. Καθαρισμός για Βυζαντινό Ρήγμα

    Όταν ανιχνευθεί βυζαντινό ρήγμα, τεμαχίζονται αμέσως εκτός από τη φυλακή. Τα χρήματα που θα αφαιρεθούν υπολογίζονται με βάση το slash_fraction_double_sign. Επιπλέον, οι επικυρωτές που διαπράττουν αυτό το σφάλμα διπλής υπογραφής θα τεθούν επίσης στην "κατάσταση ταφόπλακα", πράγμα που σημαίνει ότι θα μπει στη μαύρη λίστα και θα φυλακιστεί για πάντα

* Staking - Επίπεδο απόδειξης στοιχήματος για δημόσιες αλυσίδες μπλοκ.

   Η μονάδα πονταρίσματος χειρίζεται λογικές σχετικές με την Απόδειξη Ποσοστού, η οποία παίζει πολύ σημαντικό ρόλο στο παρακάτω πρωτόκολλο συναίνεσης.
